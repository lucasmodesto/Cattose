name: "Snapshot tests"
runs-on: ubuntu-latest

permissions:
  contents: write
  pull-requests: write

timeout-minutes: 30

steps:
  - name: Checkout
    uses: actions/checkout@v4
    with:
      lfs: true

  - name: Validate Gradle Wrapper
    uses: gradle/wrapper-validation-action@v3

  - name: Set up JDK 17
    uses: actions/setup-java@v4
    with:
      distribution: 'zulu'
      java-version: 17

  - name: Make gradlew executable
    run: chmod +x ./gradlew

  - name: Snapshot tests
    run: ./gradlew verifyPaparazziDemoDebug